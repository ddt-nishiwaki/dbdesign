パーティションの特徴

7-5節ではバッドノウハウ「水平分割」の代替手段として「パーティション」機能の存在を取り上げました。このパーティションには、(ちょうどインデックスがそうであったように)いくつかの種類があります。いかに代表的なパーティションをあげます。これらがどのような利点と欠点を持っているかを整理してください。

・レンジパーティション

	( 利点 )

		データを期間、範囲で分割, 値の大小で分割します。売り上げデータ、ログデータなど時系列データを対象にします。
		検索条件によっては，特定のパーティション・テーブルだけを検索するだけで済むためパフォーマンスの向上が見込めます。

	( 欠点 )

		データの範囲毎にパーティションを作成する必要があります。これは新しいデータが既存の範囲を超えた場合は忘れずに設定する必要があるということなので、メンテナンス性が低下します。また必然的に日付のように規則的に並んでいるデータでなければ使用できません。


・リストパーティション

	( 利点 )

		「任意の値リスト」を指定することでデータを分割します。国、地域、都道府県など不連続な値を持つデータの集合をグループ化して分けるといった用途で設定します。レンジ〜パーティションが連続したデータに対して適用するのに対して、リストパーティションは特定の不連続なデータごとにデータを分けるイメージです。結果としてはリストパーティションと同じく検索条件によってはパーティションのデータのみ参照すればいいためパフォーマンスの向上につながります。

	( 欠点 )

		レンジパーティションにも言えることですが、パフォーマンスの向上には「特定の条件」での検索が必須となります。実際に使っているSQL命令がパーティションを利用できるような条件で作成されていないと意味のないものとなります


・ハッシュパーティション

	( 利点 )

		ハッシュ関数を使用し、データを均一に分割します。レンジ、リスト化できない不連続なデータを均一に分割する場合に有効です。リスト化できないデータ(どこにどれだけあるかわからない)データでパーティションを作成するため特定の値を検索する上でパフォーマンスの向上が考えられます。

	( 欠点 )

		パーティションは「特定の値」でまとめられるため範囲検索には使えません。



